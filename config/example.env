# SeasonalWeather environment (example)
# Copy to: /etc/seasonalweather/seasonalweather.env
# Then edit the required values.

# =========================
# Required (NWWS-OI creds)
# =========================
NWWS_JID=CHANGEME@example.com
NWWS_PASSWORD=CHANGEME

# Optional overrides
NWWS_SERVER=nwws-oi.weather.gov
NWWS_PORT=5222

# Optional: room/nick overrides (if your code supports them)
# NWWS_ROOM=NWWS@conference.nwws-oi.weather.gov
# NWWS_NICK=SeasonalWeather

# =========================
# Liquidsoap telnet (local only)
# =========================
LIQUIDSOAP_TELNET_HOST=127.0.0.1
LIQUIDSOAP_TELNET_PORT=1234

# =========================
# Icecast (don’t use defaults in production)
# =========================
ICECAST_SOURCE_PASSWORD=CHANGEME
# ICECAST_ADMIN_PASSWORD=CHANGEME
# ICECAST_RELAY_PASSWORD=CHANGEME

# Branding
STATION_NAME=SeasonalWeather

# =========================
# SAME / EAS
# =========================
SEASONAL_SAME_ENABLED=1
SEASONAL_SAME_SENDER=SEASNWXR
SEASONAL_SAME_DURATION_MINUTES=60
SEASONAL_SAME_AMPLITUDE=0.35

# =========================
# CAP ingest
# =========================
SEASONAL_CAP_ENABLED=1
SEASONAL_CAP_DRYRUN=0
SEASONAL_CAP_POLL_SECONDS=60
SEASONAL_CAP_USER_AGENT="SeasonalWeather (CAP monitor)"

SEASONAL_CAP_VOICE_ENABLED=1
SEASONAL_CAP_VOICE_EVENTS=Special Weather Statement
SEASONAL_CAP_VOICE_COOLDOWN_SECONDS=600

# Live time WAV
SEASONAL_LIVE_TIME_ENABLED=1
SEASONAL_LIVE_TIME_INTERVAL_SECONDS=45

# =========================
# GWES-ERN / ERN-JON (Level 3 source)
# =========================
SEASONAL_ERN_ENABLED=1
SEASONAL_ERN_DRYRUN=0
SEASONAL_ERN_URL=http://radio.wjonip.org/WJONTV
SEASONAL_ERN_SAMPLE_RATE=48000
SEASONAL_ERN_TAIL_SECONDS=10
SEASONAL_ERN_TRIGGER_RATIO=8
SEASONAL_ERN_HOT_FRAMES_NEEDED=3
SEASONAL_ERN_DEDUPE_SECONDS=20
SEASONAL_ERN_MIN_PREAMBLE_BYTES=14
SEASONAL_ERN_MAX_CHARS=320
SEASONAL_ERN_RELAY_ENABLED=1
SEASONAL_ERN_RELAY_EVENTS=ADR,AVA,AVW,BLU,BZW,CAE,CDW,CEM,CFA,CFW,DMO,DSW,EQW,EVI,EWW,FFA,FFS,FFW,FLA,FLS,FLW,FRW,HLS,HMW,HUA,HUW,HWA,HWW,LAE,LEW,NUW,RHW,RMT,RWT,SMW,SPS,SQW,SSA,SSW,SVA,SVR,SVS,TOA,TOE,TOR,TRA,TRW,TSA,TSW,VOA,VOW,WSA,WSW
SEASONAL_ERN_RELAY_MIN_CONFIDENCE=0.79
SEASONAL_ERN_RELAY_COOLDOWN_SECONDS=300
# SEASONAL_ERN_RELAY_SENDERS=WJON,WJONIP

# =========================
# NWWS UGC → SAME targeting crosswalk
# =========================
SEASONAL_ZONECOUNTY_ENABLED=1
SEASONAL_ZONECOUNTY_DBX_URL=https://www.weather.gov/source/gis/Shapefiles/County/bp03mr26.dbx
SEASONAL_ZONECOUNTY_CACHE_DAYS=30

# =========================
# Marine zone -> coastal county FIPS -> SAME (mareas crosswalk)
# =========================
SEASONAL_MAREAS_ENABLED=1
SEASONAL_MAREAS_URL=https://www.weather.gov/source/gis/Shapefiles/WSOM/mareas18mr25.txt
SEASONAL_MAREAS_CACHE_DAYS=30


# =========================
# RWT/RMT scheduling
# =========================
SEASONAL_TESTS_ENABLED=1

SEASONAL_RWT_WEEKDAY=2
SEASONAL_RWT_HOUR=11
SEASONAL_RWT_MINUTE=0

SEASONAL_RMT_NTH=1
SEASONAL_RMT_WEEKDAY=2
SEASONAL_RMT_HOUR=11
SEASONAL_RMT_MINUTE=0

SEASONAL_TESTS_JITTER_SECONDS=60
SEASONAL_TESTS_POSTPONE_MINUTES=15
SEASONAL_TESTS_MAX_POSTPONE_HOURS=6
SEASONAL_TESTS_TONEOUT_COOLDOWN_SECONDS=1800
SEASONAL_TESTS_CAP_BLOCK_SECONDS=3600
SEASONAL_TESTS_ERN_BLOCK_SECONDS=3600

# =========================
# NWWS resiliency knobs (if present in your build)
# =========================
# SEASONAL_NWWS_MUC_CONFIRM_SECONDS=30
# SEASONAL_NWWS_STALL_SECONDS=60
# SEASONAL_NWWS_RX_LOG_FIRST_N=20
# SEASONAL_NWWS_DECISION_LOG_FIRST_N=20
# SEASONAL_NWWS_DECISION_LOG_EVERY=0
